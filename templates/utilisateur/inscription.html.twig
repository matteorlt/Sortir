{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}

    {% include 'components/_header.html.twig' %}

    <div class="container mt-5">
        <div class="row flex-lg-row align-items-start g-5">
            <!-- Formulaire à gauche -->
            <div class="col-lg-7 mb-4">
                <div>
                    <div class="card-header text-black text-center">
                        <h1 class="h3 mb-0">Créer un compte</h1>
                    </div>

                    <div class="card-body p-4">
                        {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

                        <div class="mb-4">
                            {{ form_label(form.pseudo, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                            <span class="text-danger">*</span>
                            {{ form_widget(form.pseudo, {'attr': {'class': 'form-control', 'placeholder': 'Votre nom d\'utilisateur'}}) }}
                            {{ form_errors(form.pseudo) }}
                            <div class="form-text">Ce nom sera visible par les autres utilisateurs</div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3 mb-md-0">
                                {{ form_label(form.nom, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                <span class="text-danger">*</span>
                                {{ form_widget(form.nom, {'attr': {'class': 'form-control', 'placeholder': 'Votre nom de famille'}}) }}
                                {{ form_errors(form.nom) }}
                            </div>

                            <div class="col-md-6">
                                {{ form_label(form.prenom, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                <span class="text-danger">*</span>
                                {{ form_widget(form.prenom, {'attr': {'class': 'form-control', 'placeholder': 'Votre prénom'}}) }}
                                {{ form_errors(form.prenom) }}
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3 mb-md-0">
                                {{ form_label(form.telephone, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                {{ form_widget(form.telephone, {'attr': {'class': 'form-control', 'placeholder': '06 12 34 56 78'}}) }}
                                {{ form_errors(form.telephone) }}
                                <div class="form-text">Optionnel - pour être contacté par les organisateurs</div>
                            </div>

                            <div class="col-md-6">
                                {{ form_label(form.mail, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                <span class="text-danger">*</span>
                                {{ form_widget(form.mail, {'attr': {'class': 'form-control', 'placeholder': 'votre.email@eni.fr'}}) }}
                                {{ form_errors(form.mail) }}
                            </div>
                        </div>

                        <div class="row mb-4">
                            <div class="col-md-6 mb-3 mb-md-0">
                                {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                <span class="text-danger">*</span>
                                {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-control', 'placeholder': 'Choisissez un mot de passe sécurisé'}}) }}
                                {{ form_errors(form.plainPassword.first) }}
                                <div class="form-text">Au moins 8 caractères avec majuscules et chiffres</div>
                            </div>

                            <div class="col-md-6">
                                {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                                <span class="text-danger">*</span>
                                {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-control', 'placeholder': 'Confirmez votre mot de passe'}}) }}
                                {{ form_errors(form.plainPassword.second) }}
                            </div>
                        </div>

                        <div class="mb-4">
                            {{ form_label(form.photoFile, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                            {{ form_widget(form.photoFile, {'attr': {'class': 'form-control'}}) }}
                            {{ form_errors(form.photoFile) }}
                            <div class="form-text">Optionnel - Photo de profil (JPG, PNG, max 2MB)</div>
                        </div>

                        <div class="mb-4">
                            {{ form_label(form.campus, null, {'label_attr': {'class': 'form-label fw-bold'}}) }}
                            <span class="text-danger">*</span>
                            {{ form_widget(form.campus, {'attr': {'class': 'form-select'}}) }}
                            {{ form_errors(form.campus) }}
                            <div class="form-text">Sélectionnez votre campus ENI</div>
                        </div>

                        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                            <button type="submit" class="btn btn-primary btn-lg me-md-2" style="background-color: #8f00ff; border-color: #8f00ff; transition: all 0.3s ease;"
                                    onmouseover="this.style.backgroundColor='#7300cc'; this.style.borderColor='#7300cc';"
                                    onmouseout="this.style.backgroundColor='#8f00ff'; this.style.borderColor='#8f00ff'">
                                <i class="fas fa-user-plus me-2"></i>Créer mon compte
                            </button>
                            <a href="{{ path('app_home') }}" class="btn btn-outline-secondary btn-lg">
                                <i class="fas fa-arrow-left me-2"></i>Retour à l'accueil
                            </a>
                        </div>

                        {{ form_end(form) }}
                    </div>
                </div>
            </div>

            <!-- Trait de séparation vertical -->
            <div class="col-lg-1 d-none d-lg-flex justify-content-center">
                <div class="border-end h-75 mt-5" style="border-width: 2px !important; border-color: #dee2e6 !important;"></div>
            </div>

            <!-- Image à droite (descendue) -->
            <div class="col-lg-4 d-flex align-items-end justify-content-center">
                <div class="mb-5">
                    <img src="{{ asset('images/photo-register.jpg') }}"
                         alt="Homme qui s'enregistre"
                         class="img-fluid"
                         style="max-width: 500px; height: auto;">
                </div>
            </div>
        </div>
    </div>

    {% include 'components/_footer.html.twig' %}

{% endblock %}