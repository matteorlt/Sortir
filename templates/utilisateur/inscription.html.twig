{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}

    {% include 'components/_header.html.twig' %}

    <div class="form-container">
        <h1 class="form-title">Créer un compte</h1>
        
        <div class="form-card">
            {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
                
                <div class="form-group">
                    {{ form_label(form.pseudo, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                    {{ form_widget(form.pseudo, {'attr': {'class': 'form-input', 'placeholder': 'Votre nom d\'utilisateur'}}) }}
                    {{ form_errors(form.pseudo) }}
                    <p class="form-help">Ce nom sera visible par les autres utilisateurs</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="form-group">
                        {{ form_label(form.nom, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                        {{ form_widget(form.nom, {'attr': {'class': 'form-input', 'placeholder': 'Votre nom de famille'}}) }}
                        {{ form_errors(form.nom) }}
                    </div>

                    <div class="form-group">
                        {{ form_label(form.prenom, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                        {{ form_widget(form.prenom, {'attr': {'class': 'form-input', 'placeholder': 'Votre prénom'}}) }}
                        {{ form_errors(form.prenom) }}
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="form-group">
                        {{ form_label(form.telephone, null, {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.telephone, {'attr': {'class': 'form-input', 'placeholder': '06 12 34 56 78'}}) }}
                        {{ form_errors(form.telephone) }}
                        <p class="form-help">Optionnel - pour être contacté par les organisateurs</p>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.mail, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                        {{ form_widget(form.mail, {'attr': {'class': 'form-input', 'placeholder': 'votre.email@eni.fr'}}) }}
                        {{ form_errors(form.mail) }}
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="form-group">
                        {{ form_label(form.plainPassword.first, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                        {{ form_widget(form.plainPassword.first, {'attr': {'class': 'form-input', 'placeholder': 'Choisissez un mot de passe sécurisé'}}) }}
                        {{ form_errors(form.plainPassword.first) }}
                        <p class="form-help">Au moins 8 caractères avec majuscules et chiffres</p>
                    </div>

                    <div class="form-group">
                        {{ form_label(form.plainPassword.second, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                        {{ form_widget(form.plainPassword.second, {'attr': {'class': 'form-input', 'placeholder': 'Confirmez votre mot de passe'}}) }}
                        {{ form_errors(form.plainPassword.second) }}
                    </div>
                </div>

                <div class="form-group">
                    {{ form_label(form.photoFile, null, {'label_attr': {'class': 'form-label'}}) }}
                    {{ form_widget(form.photoFile, {'attr': {'class': 'form-input file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100'}}) }}
                    {{ form_errors(form.photoFile) }}
                    <p class="form-help">Optionnel - Photo de profil (JPG, PNG, max 2MB)</p>
                </div>

                <div class="form-group">
                    {{ form_label(form.campus, null, {'label_attr': {'class': 'form-label form-required'}}) }}
                    {{ form_widget(form.campus, {'attr': {'class': 'form-select'}}) }}
                    {{ form_errors(form.campus) }}
                    <p class="form-help">Sélectionnez votre campus ENI</p>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-primary">Créer mon compte</button>
                    <a href="{{ path('app_home') }}" class="btn-secondary">Retour à l'accueil</a>
                </div>
                
            {{ form_end(form) }}
        </div>
    </div>

    {% include 'components/_footer.html.twig' %}

{% endblock %}
